<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TCP Server</title>
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval'; object-src 'none'; style-src 'self' data: 'unsafe-inline'; img-src *; media-src 'none'; frame-src 'none'; connect-src *">
    <link rel="stylesheet" type="text/css" href="./style/main.css">

</head>
<body id="body" class="bg1">
<script>
    const ipcRenderer = require('electron').ipcRenderer;
    // wait for an updateReady message
    ipcRenderer.on('updateReady', function(event, text) {
        // changes the text of the button
        var updateButton = document.getElementById('ready');
        updateButton.innerHTML = "Update!";
        updateButton.classList.remove('hidden');
    })
</script>
<div class="wrapper draggable">
    <div id="title-bar">
        <div id="title">Star Citizen Assistant</div>
        <div id="title-bar-btns">
            <button id="min-btn">_</button>
            <!--
                    <button id="max-btn">+</button>
            -->
            <button id="close-btn">&#x2716;</button>
        </div>
    </div>


    <div class="container-Container">
        <div class="buttons">
            <button type="button" class="btnOff" id="btnToggleServer">Start</button>
            <button type="button" class="btnOff" id="btnSettings">Settings</button>
            <button type="button" class="btnOff" id="btnWebLink">Help</button>
            <!-- the button onClick sends a quitAndInstall message to the electron main process -->
            <button id="ready" class="btnOn hidden" onClick="ipcRenderer.send('quitAndInstall')">No Updates</button>
        </div>

        <textarea readonly id="console" class="console"> </textarea>
    </div>
</div>

<script>
    // You can also require other files to run in this process
    require('./renderer.js')
</script>
</body>
</html>